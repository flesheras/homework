dice_mod = {2 => -2, 3 => -1, 4 => -1, 5 => -1, 6 => 0, 7 => 0, 8 => 0, 9 => 1, 10 => 1, 11 => 1, 12 => 2}

spin_mar_worlds = {
  "457-973"       => ["Lt"],
  "494-908"       => ["none"],
  "567-908"       => ["none"],
  "728-907"       => ["none"],
  "769-422"       => ["none"],
  "871-438"       => ["none"],
  "875-496"       => ["none"],
  "876-574"       => ["none"],
  "886-945"       => ["none"],
  "899-076"       => ["none"],
  "975-452"       => ["none"],
  "Adabicci"      => ["none"],
  "Aki"           => ["Hi", "Po"],
  "Alell"         => ["Ri"],
  "Algebaster"    => ["Ri", "Ag"],
  "Algine"        => ["Hi", "Lt"],
  "Andory"        => ["Ag", "Ga"],
  "Anduril"       => ["Ri"],
  "Anselhome"     => ["none"],
  "Ao-dai"        => ["none"],
  "Aramanx"       => ["Hi"],
  "Aramis A"      => ["none"],
  "ARamis T"      => ["none"],
  "Arba"          => ["Ht"],
  "Arden"         => ["Hi"],
  "Arkadia"       => ["none"],
  "Asgard"        => ["Po", "Lt"],
  "Asmodeus"      => ["Lt"],
  "Asteltine"     => ["Fl"],
  "Aster"         => ["Wa"],
  "Ator"          => ["none"],
  "Atsa"          => ["Po"],
  "Atson"         => ["none"],
  "Attica"        => ["none"],
  "Avastan"       => ["Po"],
  "Bael"          => ["none"],
  "Beater"        => ["Ri", "Ag"],
  "Beck's World"  => ["Lt"],
  "Belizo"        => ["Ag", "Ga", "Lt"],
  "Bender"        => ["Ht", "Ag", "Ga"],
  "Bevy"          => ["Hi", "Po"],
  "Bicornn"       => ["Lt"],
  "Binges"        => ["none"],
  "Biter"         => ["Ag"],
  "Boughene"      => ["Fl", "Ht"],
  "Bowman"        => ["As"],
  "Brodie"        => ["none"],
  "Bronze"        => ["none"],
  "Bularia"       => ["Ag", "Ga", "Lt"],
  "Burtson"       => ["Ri"],
  "Byret"         => ["Ri", "Ag"],
  "Caladbolg"     => ["Ri", "In"],
  "Caledonia"     => ["Po", "Lt"],
  "Caliburn"      => ["As"],
  "Calit"         => ["none"],
  "Callia"        => ["Po", "De"],
  "Caloran"       => ["Ag", "Ga", "Lt"],
  "Candory"       => ["none"],
  "Cantrel"       => ["none"],
  "Capon"         => ["Ag", "Ga"],
  "Carey"         => ["none"],
  "Carse"         => ["none"],
  "Carsten"       => ["none"],
  "Catuz"         => ["Po", "De"],
  "Celepina"      => ["none"],
  "Centry"        => ["Po"],
  "Chamois"       => ["Ag", "Ga", "Lt"],
  "Choleosti"     => ["none"],
  "Chwistyoch"    => ["Ri", "Ag", "Ga"],
  "Cipango"       => ["Ht", "Ri"],
  "Cipatwe"       => ["Ag"],
  "Clan"          => ["none"],
  "Cogri"         => ["Ri", "Wa"],
  "Colada"        => ["Ri", "Ag"],
  "Collace"       => ["Hi", "Ht", "In"],
  "Condaria"      => ["Ag", "Ga", "Lt"],
  "Condyole"      => ["Fl"],
  "Conway"        => ["Ag", "Ga"],
  "Corfu"         => ["Ag", "Ga"],
  "Craw"          => ["Lt"],
  "Cronor"        => ["Hi", "Ht"],
  "Crout"         => ["Hi"],
  "Cunnonic"      => ["Ag", "Ga", "Lt"],
  "Dallia"        => ["Fl"],
  "Darrian"       => ["Hi", "Ht", "Po"],
  "Datrillian"    => ["none"],
  "Dawnworld"     => ["none"],
  "Dekalb"        => ["Ri", "Wa"],
  "Denotam"       => ["none"],
  "Dentus"        => ["none"],
  "Derchon"       => ["none"],
  "D'Ganzio"      => ["Ht", "Po"],
  "Dhian"         => ["Fl", "Lt"],
  "Digitis"       => ["Lt"],
  "Dinom"         => ["none"],
  "Dinomn"        => ["Ag", "Ga"],
  "Djinni"        => ["none"],
  "D'Mara"        => ["Wa", "Lt"],
  "Dobham"        => ["Po", "De"],
  "Dodds"         => ["Hi", "Po"],
  "Dojodo"        => ["none"],
  "Dorannia"      => ["Po"],
  "Drolraw"       => ["Fl", "Lt"],
  "Duale"         => ["Po"],
  "Dubarre"       => ["none"],
  "Durendal"      => ["none"],
  "Dyrnwyn"       => ["none"],
  "Echiste"       => ["Wa"],
  "Edenelt"       => ["none"],
  "Edinina"       => ["Lt"],
  "Efate"         => ["Hi"],
  "Egypt"         => ["Fl"],
  "Ektron"        => ["Po"],
  "Elixabeth"     => ["none"],
  "Emape"         => ["Ag", "Ga"],
  "Emerald"       => ["Ag", "Ga"],
  "Engrange"      => ["Ag", "Ga"],
  "Enlas-du"      => ["Ag", "Ga"],
  "Enope"         => ["Hi", "In"],
  "Enos"          => ["Po", "De", "Lt"],
  "Entrope"       => ["Hi", "Ht"],
  "Equus"         => ["Wa"],
  "Errere"        => ["Ri"],
  "Esalin"        => ["Ag", "Ga"],
  "Excalibur"     => ["none"],
  "Extolay"       => ["none"],
  "Faisal"        => ["Lt"],
  "Faldor"        => ["Lt"],
  "Farquarhar"    => ["none"],
  "Farreach"      => ["none"],
  "Fenetemen"     => ["Ht", "Po"],
  "Fen's Gren"    => ["none"],
  "Feri"          => ["Ri"],
  "Ffudn"         => ["Ht"],
  "Ficant"        => ["Lt"],
  "Flammarian"    => ["Po"],
  "Flexos"        => ["Fl"],
  "Focaline"      => ["Ag", "Ga",],
  "Foelen"        => ["none"],
  "Forboldn"      => ["Lt"],
  "Forine"        => ["Hi", "In"],
  "Fornice"       => ["Hi", "Ht"],
  "Fosey"         => ["Po"],
  "Frenzie"       => ["none"],
  "Froin"         => ["none"],
  "Frond"         => ["Fl"],
  "Fulacin"       => ["Ht"],
  "Gandr"         => ["As"],
  "Garda-Vilis"   => ["none"],
  "Garoo"         => ["none"],
  "Garrincski"    => ["Po"],
  "Gerome"        => ["none"],
  "Gesentown"     => ["Ht"],
  "Ghandi"        => ["none"],
  "Gileden"       => ["none"],
  "Gitosy"        => ["As"],
  "Glisten"       => ["Hi", "Ht", "As"],
  "Gohature"      => ["Ag", "Ga"],
  "Gorram"        => ["none"],
  "Gothe"         => ["Po"],
  "Gougeste"      => ["none"],
  "Gram"          => ["Hi", "In"],
  "Grant"         => ["none"],
  "Grille"        => ["none"],
  "Grote"         => ["none"],
  "Gungnir"       => ["Ag"],
  "Gunn"          => ["none"],
  "Gyomar"        => ["Fl", "Lt"],
  "Hammermium"    => ["Po"],
  "Harvosette"    => ["Po", "De"],
  "Hazel"         => ["Ag", "Ga", "Lt"],
  "Hefry"         => ["none"],
  "Heguz"         => ["Ht", "Wa"],
  "Henoz"         => ["Ag"],
  "Heroni M"      => ["Hi", "In"],
  "Heroni R"      => ["De", "Lo"],
  "Hexos"         => ["none"],
  "Heya"          => ["Ri", "Ag", "Ga", "Lt"],
  "Hofud"         => ["Ag", "Ga"],
  "Horosho"       => ["none"],
  "Hrunting"      => ["Ri"],
  "Huderu"        => ["none"],
  "Ianic"         => ["Ri", "De", "Lt"],
  "Icetine"       => ["none"],
  "Iderati"       => ["Ht", "Ri", "Ag", "Ga"],
  "Ilium"         => ["none"],
  "Inchin"        => ["Po"],
  "Indo"          => ["Lt"],
  "Inthe G"       => ["none"],
  "Inthe R"       => ["Ag", "Ga"],
  "Iron"          => ["none"],
  "Ivendo"        => ["none"],
  "Jacent"        => ["Ht", "Po"],
  "Jae Tallona"   => ["De"],
  "Jenghe"        => ["none"],
  "Jesedipere"    => ["none"],
  "Jewell"        => ["Hi", "Ht", "In"],
  "Jinx"          => ["none"],
  "Jokotre"       => ["none"],
  "Jone"          => ["none"],
  "Joyeuse"       => ["Ri", "Ag"],
  "Judice"        => ["Fl"],
  "Junction"      => ["Po", "De", "Lt"],
  "Junidy"        => ["Hi"],
  "Kardin"        => ["Po"],
  "Karin"         => ["Ht", "Ri", "Ag", "Ga"],
  "Katarulu"      => ["Po"],
  "Keanou"        => ["De"],
  "Kegena"        => ["Lt"],
  "Keng"          => ["Lt"],
  "Kinorb Reg"    => ["Ri"],
  "Kinorb Rhy"    => ["none"],
  "Kkirka"        => ["Fl"],
  "Kletcher"      => ["none"],
  "Knorbes"       => ["Ri", "Ag", "Ga", "Lt"],
  "Kwai Ching"    => ["none"],
  "La Belle"      => ["Lt"],
  "Laberv"        => ["none"],
  "Labion"        => ["Ag", "Ga"],
  "Lakou"         => ["none"],
  "Lanth"         => ["none"],
  "Leander"       => ["Lt"],
  "Lebeau"        => ["Ht"],
  "Lewis"         => ["Ht"],
  "L'oeul d'Dieu" => ["Wa"],
  "Loneseda"      => ["Wa"],
  "Louzy"         => ["Hi", "Po"],
  "Lunion"        => ["Hi", "Ht", "In"],
  "Lydia"         => ["none"],
  "Lysen"         => ["none"],
  "Macene"        => ["Ht", "As"],
  "Mainz"         => ["Po"],
  "Maitz"         => ["none"],
  "Marastan"      => ["Lt"],
  "Margesi R"     => ["Ht"],
  "Margesi V"     => ["Ag", "Ga"],
  "Meleto"        => ["Lt"],
  "Melior"        => ["Po", "De"],
  "Menorb"        => ["Hi", "Po"],
  "Mercury"       => ["Ag", "Ga"],
  "Mertactor"     => ["none"],
  "Mewey"         => ["Ri", "Ag", "Ga", "Lt"],
  "Milagro"       => ["none"],
  "Mille Falcs"   => ["Fl", "Ht"],
  "Mire"          => ["Hi"],
  "Mirriam F"     => ["none"],
  "Mirriam V"     => ["none"],
  "Mithril"       => ["none"],
  "Mithris"       => ["Fl"],
  "Mizan-fel"     => ["none"],
  "Mjolnir"       => ["Po", "De"],
  "Mongo"         => ["Ri"],
  "Mora"          => ["Hi", "Ht", "In"], 
  "Moran"         => ["none"],
  "Motmos"        => ["Ri", "Ag", "Lt"],
  "Moughas"       => ["Wa"],
  "Murchison"     => ["none"],
  "Nadrin"        => ["Po"],
  "Nakege"        => ["Lt"],
  "Narsil"        => ["Hi", "In"],
  "Narval"        => ["none"],
  "Nasemin"       => ["Wa"],
  "Natoko A"      => ["none"],
  "Natoko R"      => ["Hi"],
  "Nerewhon"      => ["none"],
  "New Rome"      => ["none"],
  "Nexine"        => ["Wa"],
  "Ninjar"        => ["Ht"],
  "Nirtron"       => ["none"],
  "Noctocol"      => ["Fl"],
  "Nonym"         => ["Po"],
  "Nosea"         => ["Ht", "Po"], 
  "Nutema"        => ["none"],
  "Ochecate"      => ["Ag", "Ga"],
  "Olympia"       => ["none"],
  "Orcrist"       => ["Fl"],
  "Overnale"      => ["Ag"],
  "Pagaton"       => ["Ri", "Lt"],
  "Palique"       => ["Hi", "Ht", "In"],
  "Pannet"        => ["Fl"],
  "Patinir"       => ["As"],
  "Pavabid"       => ["none"],
  "Pavanne"       => ["none"],
  "Paya"          => ["none"],
  "Pedase"        => ["none"],
  "Penelope"      => ["Ri", "De", "Lt"],
  "Penkwhar"      => ["Lt"],
  "Pepernium"     => ["Ag", "Ga", "Lt"],
  "Pequan"        => ["Ag", "Ga", "Lt"],
  "Persephone"    => ["none"],
  "Phlume"        => ["Ag", "Ga"],
  "Pimane"        => ["Lt"],
  "Pirema"        => ["Lt"],
  "Pixie"         => ["Ht"],
  "Plaven"        => ["Lt"],
  "Porozlo"       => ["Hi"],
  "Powaza"        => ["Ag", "Ga", "Lt"],
  "Prilissa"      => ["Ag", "Ga"],
  "Prinx"         => ["none"],
  "Pscias"        => ["Lt"],
  "Puparkin"      => ["Fl"],
  "Pyramus"       => ["Lt"],
  "Pysadi"        => ["Ag", "Lt"],
  "Quar"          => ["Po"],
  "Quare"         => ["none"],
  "Querion"       => ["Ag"],
  "Quhaiathat"    => ["none"],
  "Quiru"         => ["none"],
  "Quopist"       => ["Po"],
  "Rabwhar"       => ["none"], 
  "Ralhe"         => ["none"],
  "Ramiva"        => ["none"],
  "Rangent"       => ["Wa"],
  "Rapp's World"  => ["none"],
  "Rasatt"        => ["none"],
  "Raweh"         => ["Po"],
  "Raydrad"       => ["none"],
  "Reacher"       => ["Fl"],
  "Rech"          => ["Ag", "Ga"],
  "Regina"        => ["Ht", "Ri"],
  "Reno"          => ["Po"],
  "Resten"        => ["none"],
  "Rethe"         => ["Hi", "Po", "De"],
  "Retinae"       => ["Fl", "Ht", "Lt"],
  "Rhise"         => ["none"],
  "Ryhlandor"     => ["Hi", "Ht"],
  "Rio"           => ["Ri", "Ag", "Ga"],
  "Risek"         => ["none"],
  "Riverland"     => ["Hi"],
  "Robin"         => ["Ht", "As"],
  "Roget"         => ["Ri", "Ag"],
  "Romar"         => ["Po", "De"],
  "Rorise"        => ["none"],
  "Rorre"         => ["Ri", "Ag", "Ga", "Lt"],
  "Roup"          => ["Hi", "In", "Wa"],
  "Ruby"          => ["none"],
  "Rugbird"       => ["Fl"],
  "Ruie"          => ["Hi", "In"],
  "Rushu"         => ["Ri", "Ag", "Lt"],
  "Sacnoth"       => ["Hi", "Ht", "In"],
  "Sansibar"      => ["none"],
  "Saurus"        => ["Ag", "Ga"],
  "Saxe"          => ["Fl"],
  "Sharrip"       => ["none"],
  "Sheyou"        => ["Ag", "Ga"],
  "Shionthy"      => ["As"],
  "Shirene"       => ["Ag", "Ga"],
  "Singer"        => ["Po"],
  "Skull"         => ["Po"],
  "Smoug"         => ["Po", "De"],
  "Somem"         => ["none"],
  "Sonthert"      => ["Lt"],
  "Sorel"         => ["Ri", "Ag", "Lt"],
  "Spirelle"      => ["Ri"],
  "Spume"         => ["Po", "De"],
  "Squallia"      => ["none"],
  "Squanine"      => ["none"],
  "Stave"         => ["Ag", "Ga", "Lt"],
  "Stelatio"      => ["Fl", "Lt"],
  "Stern-Stern"   => ["Po"],
  "Steel"         => ["none"],
  "Sting"         => ["none"],
  "Strouden"      => ["Hi", "Ht", "In"],
  "Tacaxeb"       => ["Po", "De"],
  "Talchek"       => ["Fl", "Lt"],
  "Talos"         => ["Po"],
  "Tarkine"       => ["Ri", "Ag"],
  "Tarsus"        => ["Ag", "Ga"],
  "Tavonni"       => ["none"],
  "Tee-Tee-Tee"   => ["none"],
  "Tenelphi L"    => ["Ht"],
  "Tenelphi T"    => ["Wa"],
  "Terant 340"    => ["Po", "De"],
  "Terra Nova"    => ["none"],
  "Thanber"       => ["Ht", "Po"],
  "Thengo"        => ["Ag", "Ga", "Lt"],
  "Thisbe"        => ["Po", "De"],
  "Thornnaster"   => ["none"],
  "Tionale"       => ["none"],
  "Tirem"         => ["Fl", "Hi"],
  "Tivid"         => ["none"],
  "Tizon"         => ["Ri"],
  "Tondoul"       => ["Lt"],
  "Torment"       => ["Po", "Lt"],
  "Towers"        => ["none"],
  "Traltha"       => ["De"],
  "Trane"         => ["none"],
  "Treece"        => ["Po"],
  "Tremous Dex"   => ["Ht"],
  "Trexalon"      => ["Ht", "Ri"],
  "Trifuge"       => ["Ag"],
  "Trin"          => ["Hi", "Ht", "In"],
  "Tsarina"       => ["Po", "Lt"],
  "Turedad"       => ["Ag"],
  "Tussinian"     => ["none"],
  "Tyrfing"       => ["none"], 
  "Uakye"         => ["Ht"],
  "Ucella"        => ["Ag", "Ga"],
  "Uniqua"        => ["Lt"],
  "Utoland"       => ["none"],
  "Valhalla"      => ["Lt"],
  "Vanejen"       => ["Ri", "Lt"],
  "Victoria"      => ["Ag", "Ga", "Lt"],
  "Vilis"         => ["Ht", "In"],
  "Vinorian"      => ["none"],
  "Violante"      => ["none"],
  "Vreibefger"    => ["Lt"],
  "Walston"       => ["none"],
  "Wardn"         => ["none"],
  "Weiss"         => ["none"],
  "Whenge"        => ["Ag", "Ga"],
  "Windsor"       => ["none"],
  "Winston"       => ["Ag", "Ga"],
  "Wochiers"      => ["Fl"],
  "Wonderway"     => ["Wa", "Lt"],
  "Wonstar"       => ["Ag"],
  "Wurzburg"      => ["none"],
  "Wypoc"         => ["Fl"], 
  "Xhosa"         => ["Lt"],
  "Yebab"         => ["Fl"],
  "Yiktor"        => ["Fl"],
  "Ylaven"        => ["Ag", "Ga", "Lt"],
  "Yorbind"       => ["Fl"],
  "Yori"          => ["De"],
  "Youghal"       => ["none"],
  "Yres"          => ["Fl"],
  "Yurst"         => ["Fl", "Lt"],
  "Zaibon"        => ["As"],
  "Zamine"        => ["Hi", "In"],
  "Zenopit"       => ["Po"],
  "Zephyr"        => ["Ag", "Ga", "Lt"],
  "Zeta 2"        => ["none"],
  "Zeycude"       => ["Po", "De"],
  "Zila"          => ["Ag"],
  "Zircon"        => ["none"],
  "Zivije"        => ["Fl", "Hi"], 
  "Zykoca"        => ["Ag", "Ga"],
  "Zyra"          => ["none"]
}

background_skills = {
  "Ag" => ["animals"],
  "As" => ["zero-gravity"],
  "De" => ["survival"],
  "Fl" => ["seafarer"],
  "Ga" => ["animals"],
  "Ht" => ["computers"],
  "Hi" => ["streetwise"],
  "In" => ["trade"],
  "Lt" => ["survival"],
  "Po" => ["animals"],
  "Ri" => ["carouse"],
  "Wa" => ["seafarer"]
}

education_benefit = ["admin", "advocate", "art", "carouse", "comms", "computer", "drive", "engineer", "language", "medic", "physical science", "life science", "social science", "space science", "trade"]

career = ["agent", "army", "citizen", "drifter", "entertainer", "marines", "merchants", "navy", "nobility", "rogue", "scholar", "scouts"]

military_branches = ["navy", "army", "marines", "merchants", "scouts", "agent"]

service_skills = {
  "agent"       => ["streetwise", "drive (any)", "investigate", "computers", "recon", "gun combat (any)"],
  "army"        => ["drive (any)", "atheltics (any)", "gun combat (any)", "recon", "melee (any)", "heavy weapons (any)"],
  "citizens"    => ["drive (any)", "flyer (any)", "streewise", "melee (any)", "steward", "trade"],
  "drifter"     => ["atheltics (any)", "melee (unarmed)", "recon", "streetwise", "stealth", "survival"],
  "entertainer" => ["art (any)", "carouse", "deception", "persuade", "steward"],
  "marines"     => ["athletics (any)", "battle dress", "tactics (any)", "heavy weapons (any)", "gun combat (any)", "stealth"],
  "merchants"   => ["drive (any)", "vacc suit", "broker", "steward", "comms", "persuade"],
  "navy"        => ["pilot (any)", "vacc suit", "zero-gravity", "gunner (any)", "mechanic", "gun combat (any)"], 
  "nobility"    => ["admin", "advocate", "comms", "diplomat", "investigate", "persuade"],
  "rogue"       => ["deception", "recon", "atheltics (any)", "gun commbat (any)", "stealth", "streewise"],
  "scholar"     => ["comms", "computers", "diplomat", "medic", "investigate", "any science (any)"],
  "scouts"      => ["pilot (spacecraft or small craft)", "survival", "mechanic", "astrogation", "comms", "gun combat (any)"]
}

specializations = {
  "agent"       => ["law enforcement", "intelligence", "corporate"],
  "army"        => ["support", "infantry", "cavalry"],
  "citizens"    => ["corporate", "worker", "colonist"],
  "drifter"     => ["barbarian", "wanderer", "scavenger"],
  "entertainer" => ["artist", "journalist", "performer"],
  "marines"     => ["support", "star marines", "ground assault"],
  "merchants"   => ["merchant marine", "free trader", "broker"],
  "navy"        => ["line/crew", "engineering/gunnery", "flight"],
  "nobility"    => ["administrator", "diplomat", "dilettante"],
  "rogue"       => ["thief", "enforcer", "pirate"],
  "scholar"     => ["field representative", "scientist", "physician"],
  "scouts"      => ["courier", "survey", "exploration"]
}

still_more_skills = {
  "agent"          => {
    "personal development"  => ["gun combat (any)", "+1 dex", "+1 end", "melee (any)", "+1 int", "athletics (any)"],
    "service skills"        => ["streetwise", "drive (any)", "investigate", "computers", "recon", "gun combat (any)"],
    "advanced education"    => ["advocate", "comms", "computers", "medic", "stealth", "remote operations"],
    "law enforcement"       => ["investigate", "recon", "streetwise", "stealth", "melee (any)", "advocate"],
    "intelligence"          => ["investigate", "recon", "comms", "stealth", "persuade", "deception"],
    "corporate"             => ["investigate", "computers", "stealth", "gun combat (any)", "deception", "streetwise"]
  },
  "army"           => {
    "personal development"  => ["+1 str", "+1 dex", "+1dur", "gambler", "medic", "melee (unarmed)"],
    "service skills"        => ["drive (any)", "athletics (any)", "gun combat any)", "recon", "melee (any)", "heavy weapons (any)"],
    "advance education"     => ["comms", "sensors", "navigation", "eplosives", "engineer (any)", "survival"],
    "officer skills"        => ["tactics (military)", "leadership", "advocate", "diplomat", "tactics (military)", "admin"],
    "support"               => ["mechanic", "drive (any)", "flyer (any)", "explosives", "comms", "medic"],
    "infantry"              => ["gun combat (any)", "melee (any)", "heavy weapons (any)", "stealth", "atheltics (any)", "recon"],
    "cavalry"               => ["mechanic", "drive (any)", "flyer (any)", "recon", "gunnery (any)", "sensors"]
  },
  "citizen"        => {
    "personal development"  => ["+1 edu", "+1 int", "carouse", "gambler", "drive (any)", "jack of all trades"],
    "service skills"        => ["drive (any)", "flyer (any)", "streetwise", "melee (any)", "steward", "trade"],
    "advanced education"    => ["art (any)", "advocate", "diplomat", "language (any)", "computers", "medic"],
    "corporate"             => ["advocate", "admin", "broker", "computers", "diplomat", "leadership"],
    "worker"                => ["drive (any)", "mechanic", "trade (any)", "engineer (any)", "trade (any)", "science"],
    "colonist"              => ["animals (any)", "athletics (any)", "jack of all trades", "drive (any)", "survival", "recon"]
  },
  "drifter"       => {
    "personal development"  => ["+1 str", "+1 end", "+1 dex", "jack of all trades", "+1 dur", "+1 int"],
    "service skills"        => ["atheltics (any)", "melee (unarmed)", "recon", "streewise", "stealth", "survival"],
    "barbarian"             => ["animals (any)", "carouse", "melee (blade)", "stealth", "seafarer (any)", "survival"],
    "wanderer"              => ["athletics (any)", "deception", "recon", "stealth", "streewise", "survival"],
    "scavenger"             => ["pilot (small craft)", "mechanic", "astrogation", "vacc suit", "zero-gravity", "gun combat (any)"]
  },
  "entertainer"   => {
    "personal development"  => ["dex + 1", "int + 1", "soc +1", "edu + 1", "carouse", "stealth"],
    "service skills"        => ["art (any)", "art (any)", "carouse", "deception", "persuade", "steward"],
    "advanced education"    => ["advocate", "art (any)", "decpetion", "science (any)", "streewise", "diplomat"],
    "artist"                => ["art (any)", "carouse", "computers", "gambler", "persuade", "trade"],
    "journalist"            => ["art (writing or holography)", "comms", "computers", "investigate", "recon", "streetwise"],
    "performer"             => ["art (acting, dance or instrument)", "atheltics (co-ordination or endurance)", "carouse", "deception", "stealth", "streetwise"]
  },
  "marines"       => {
    "personal development"  => ["+1 str", "+1 dex", "+1 dur", "gambler", "melee (unarmed)", "melee (blade)"],
    "service skills"        => ["athletics (any)", "battle dress", "tactics (any)", "heavy weapons (any)", "gun combat (any)", "stealth"],
    "advanced education"    => ["medic", "survival", "explosives", "engineer (any)", "pilot (any)", "medic"],
    "officer skills"        => ["leadership", "tactics (any)", "admin", "advocate", "battle dress", "leadership"],
    "support"               => ["comms", "mechanic", "drive (any) or flyer (any)", "medic", "heavy weapons (any)", "gun combat (any)"],
    "star marine"           => ["battle dress", "zero-gravity", "gunnery (any)", "melee (blade)", "sensors", "gun combat (any)"],
    "ground assault"        => ["battle dress", "heavy weapons (any)", "recon", "melee (blade)", "tactics (military)", "gun combat (any)"]
  },
  "merchants"     => {
    "personal development"  => ["+1 str", "+1 dex", "+1 dur", "+1 int", "melee (blade)", "streetwise"],
    "service skills"        => ["drive (any)", "vacc suit", "broker", "steward", "comms", "persuade"],
    "advanced education"    => ["social science (any)", "astrogation", "computers", "pilot (any)", "admin", "advocate"],
    "merchant marine"       => ["pilot (spacecraft or capital ship)", "vacc suit", "zero-gravity", "mechanic", "engineer (any)", "gunner (any)"],
    "free trader"           => ["pilot (spacecraft)", "vacc suit", "zero-gravity", "mechanic", "engineer (any)", "sensors"],
    "broker"                => ["admin", "advocate", "broker", "streetwise", "deception", "persuade"]
  },
  "navy"         => {
    "personal development"  => ["+1 str", "+1 dex", "+1 dur", "+1 int", "+1 edu", "+1 soc"],
    "service skills"        => ["pilot (any)", "vacc suit", "zero-gravity", "gunner (any)", "mechanic", "gun combat (any)"],
    "advanced education"    => ["remote operations", "astrogation", "engineer (any)", "computers", "navigation", "admin"],
    "officer skills"        => ["leadership", "tactics (any)", "pilot (any)", "melee (blade)", "admin", "tactics (any)"],
    "crew"                  => ["comms", "mechanic", "gun combat (any)", "sensors", "melee (any)", "vacc suit"],
    "engineering/gunnery"   => ["engineer (any)", "mechanic", "sensors", "engineer (any)", "gunner (any)", "computer"],
    "flight"                => ["pilot (any)", "glyer (any)", "gunner (any)", "pilot (small craft)", "astrogation", "zero-gravity"]
  },
  "nobility"     => {
    "personal development"  => ["carouse", "+1 edu", "deception", "+1 dex", "melee (blade)", "+1 soc"],
    "service skills"        => ["admin", "advocate", "comms", "diplomat", "investigate", "persuade"],
    "advance education"     => ["admin", "advocate", "language (any)", "leader", "diplomat", "computers"],
    "administrator"         => ["admin", "advocate", "broker", "diplomat", "leadership", "persuade"], 
    "diplomat"              => ["advocate", "carouse", "comms", "steward", "diplomat", "deception"],
    "dilettante"            => ["carouse", "deception", "flyer (any)", "streetwise", "gambler", "jack of all trades"]
  },
  "rogue"        => {
    "personal development"  => ["carouse", "+1 dex", "+1 dur", "gambler", "melee (any)", "gun combat (any)"],
    "service skills"        => ["deception", "recon", "athletics", "gun combat (any)", "stealth", "streetwise"],
    "advaced education"     => ["computers", "comms", "medic", "investigation", "persuade", "advocate"],
    "thief"                 => ["stealth", "computers", "remote operations", "streetwise", "deception", "athletics (co-ordination)"],
    "enforcer"              => ["gun combat (any)", "melee (any)", "streetwise", "persuade", "athletics (any)", "drive (any)"],
    "pirate"                => ["pilot (any)", "astrogation", "gunner (any)", "engineer (any)", "vacc suit", "melee (blade)"]
  },
  "scholar"     => {
    "personal development"  => ["+1 int", "+1 edu", "+1 soc", "+1 dex", "+1 dur", "computers"], 
    "service skills"        => ["comms", "computers", "diplomat", "medic", "investigate", "any science (any"],
    "advanced education"    => ["art (any)", "advocate", "computers", "language (any)", "engineer (any)", "any science (any)"],
    "researcher"            => ["sensors", "diplomat", "language (any)", "survival", "investigate", "any science (any)"],
    "scientist"             => ["admin", "engineer (any)", "any science (any)", "sensors", "computers", "any science (any)"],
    "physician"             => ["medic", "comms", "investigate", "medic", "persuade", "any science (any)"]
  },
  "scouts"      => {
    "personal development"  => ["+1 str", "+1 dex", "+1 dur", "+1 int", "+1 edu", "jack of all trades"],
    "service skills"        => ["pilot (spacecraft or small craft)", "survival", "mechanic", "astrogation", "comms", "gun combat (any)"],
    "advanced education"    => ["medic", "navigation", "engineer (any)", "computer", "space science (any)", "jack of all trades"],
    "courier"               => ["comms", "sensors", "pilot (spacecraft)", "vacc suit", "zero-gravity", "astrogation"],
    "survey"                => ["sensors", "persuade", "pilot (small craft)", "navigation", "diplomat", "streetwise"],
    "exploration"           => ["sensors", "pilot (spacecraft)", "pilot (small craft)", "life science (any)", "stealth", "recon"]
  }
}  


def roll_two_d_six
  rand(2..12)
end

str = roll_two_d_six
dex = roll_two_d_six
dur = roll_two_d_six
int = roll_two_d_six
edu = roll_two_d_six
soc = roll_two_d_six

str_mod = dice_mod[str]
dex_mod = dice_mod[dex]
dur_mod = dice_mod[dur]
int_mod = dice_mod[int]
edu_mod = dice_mod[edu]
soc_mod = dice_mod[soc]

player_modifiers = {"str_mod" => str_mod, "dex_mod" => dex_mod, "dur_mod" => dur_mod, "int_mod" => int_mod, "edu_mod" => edu_mod, "soc_mod" => soc_mod}

puts"What would you like to name your character?"
name = gets.strip
puts "Are you male or female?"

def get_gender
  gender = gets.strip

  while gender != "male" && gender != "female"
    puts "Are you male or female, dammit?"
    gender = gets.strip
  end
  return gender
end

gender = get_gender

puts "You chose #{name} and you are #{gender}"
puts "your strength is #{str} and your strength modifier is #{str_mod}"
puts "your dexterity is #{dex} and your dexterity modifier is #{dex_mod}"
puts "your endurance is #{dur} and your endurance modifier is #{dur_mod}"
puts "your intellect is #{int} and your intellect modifier is #{int_mod}"
puts "your education is #{edu} and your education modifier is #{edu_mod}"
puts "your social standing is #{soc} and your social standing modifier is #{soc_mod}"

if soc == 11
  puts "You have the choice of starting out as a knight.  It may make things easier for you in the future."
elsif soc == 12
  puts "You have the choice of starting out as a baron.  It may make things easier for you in the future."
end



your_world = spin_mar_worlds.keys[rand(0..426)]

puts "Your world is #{your_world}."  
world_features = spin_mar_worlds[your_world][0..-1]

player_skills = []

if world_features[0] == "none"
  puts "You do not receive any background skills from this world."
else
  puts"You receive these background skills from this world."
  i = 0
  while i < world_features.size
  player_skills << background_skills[world_features[i]]
  i += 1
  end
  while (edu_mod + 3) < player_skills.size
    player_skills = player_skills - [player_skills[rand(0..(player_skills.size - 1))]]
  end 
  puts player_skills
end

while (edu_mod + 3) > player_skills.size
  extra_skill = education_benefit[rand(0..(education_benefit.size - 1))]
  unless player_skills.include?(extra_skill)
    player_skills << extra_skill
  end
end

puts "These are your starting skills"
puts player_skills
puts "Any background skills you receive from this world start at 0."
puts "You are 18 years old"
your_career = career[rand(0..(career.size - 1))]
puts "You are trying for #{your_career}."

def qualify?(your_career, str_mod, dex_mod, dur_mod, int_mod, edu_mod, soc_mod)
  career_dice_roll = rand(2..12)
  qualify = false
  case your_career
  when" agent"
    if (career_dice_roll + int_mod) >= 6
      qualify = true
    end
  when" army"
    if (career_dice_roll + dur_mod) >= 5
      qualify = true
    end
  when" citizen"
    if (career_dice_roll + edu_mod) >= 5
      qualify = true
    end
  when "drifter"
    qualify = true
  when "entertainer"
    if (career_dice_roll + int_mod) >= 5
      qualify = true
    end
  when "marines"
    if (career_dice_roll + dur_mod) >= 6
      qualify = true
    end
  when "merchants"
    if (career_dice_roll + int_mod) >= 4
      qualify = true
    end
  when "navy"
    if (career_dice_roll + int_mod) >= 6
      qualify = true
    end
  when "nobility"
    if (career_dice_roll + soc_mod) >= 10
      qualify = true
    end
    if soc >= 10
      qualify = true
    end
  when "rogue"
    if (career_dice_roll + dex_mod) >= 6
      qualify = true
    end
  when "scholar"
    if (career_dice_roll + int_mod) >= 6
      qualify = true
    end
  when "scouts"
    if (career_dice_roll + int_mod) >= 5
      qualify = true
    end
  end
  return qualify
end

if qualify?(your_career, str_mod, dex_mod, dur_mod, int_mod, edu_mod, soc_mod)
  puts "You have qualified.  Your career is #{your_career}"
else
  puts "You have not qualified.  Would you like to enter the 'draft' or become a 'drifter?  Keep in mind you may only enter the draft once."

  lack_of_options = gets.strip

  while lack_of_options != "draft" && lack_of_options != "drifter"
    puts "Listen...you must choose 'draft' or 'drifter'.  I know this isn't your first choice but sometimes life hands us lemons."
    lack_of_options = gets.strip
    if lack_of_options == "draft"
      drafted = true
    end
  end
end

if lack_of_options == "draft"
  your_career = military_branches[rand(0..5)]
  puts "Your career is #{your_career}."
elsif lack_of_options == "drifter" 
  your_career = "drifter"
else puts "Your career is #{your_career}."
end

puts "You will receive these skills for basic training/enlistment training at level 0"

case your_career
when "agent"
  puts service_skills["agent"]
when "army"
  puts service_skills["army"]
when "citizen" 
  puts service_skills["citizen"]
when "drifter"
  puts service_skills["drifter"]
when "entertainer"
  puts service_skills["entertainer"]
when "marines"
  puts service_skills["marines"]
when "merchants"
  puts service_skills["merchants"]
when "navy"
  puts service_skills["navy"]
when "nobility"
  puts service_skills["nobility"]
when "rogue"
  puts service_skills["rogue"]
when "scholar"
  puts service_skills["scholar"]
when "scouts"
  puts service_skills["scouts"]
end

specialization = specializations[your_career][rand(0..2)]

puts "Here is your specialization for yor career."
puts specialization

skills_and_training_roll = rand(1..6)

if your_career == "drifter"
  puts "Good news! You do not need advanced education to become a drifter."
else
end

  case your_career
when "agent"
  if edu >= 8
    qualify = true
  end
when "army"
  if edu >= 8
    qualify = true
  end
when "citizen"
  if edu >= 10
    qualify = true
  end
when "entertainer"
  if edu >= 10
    qualify = true
  end
when "marines"
  if edu >= 8
    qualify = true
  end
when "merchants"
  if edu >= 8
    qualify = true
  end
when "navy" 
  if edu >= 8
    qualify = true
  end
when "nobility"
  if edu >= 8
    qualify = true
  end
when "rogue"
  if edu >= 10
    qualify = true
  end
when "scholar"
  if edu >= 10
    qualify = true
  end
when "scouts"
  if edu >= 8
    qualify = true
  end
end


if qualify == true
  puts "You may have access to specicific skills because of your advanced education."
else puts "You have a mediocre education.  Your skills may be slightly limited." 
end

if your_career == "army" || your_career == "navy" || your_career == "marines"
  puts "You are in the military.  Would you like to apply for a commission?"
commission_yes_or_no = gets.strip

while commission_yes_or_no != "yes" && commission_yes_or_no != "no"
  puts "A yes or no would be good here..."
end

if commission_yes_or_no == "no"
  puts "You receive no rank at this time."
elsif commission_yes_or_no == "yes"
  if (rand(2..12) + soc_mod) >= 8
    puts "Congratulations.  You are a rank 1 officer in the #{your_career}."
  else puts "Sorry.  you do not qualify for a rank at this time.  You may try again in next term."
  end
end
end


